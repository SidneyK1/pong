!function(e){var t={};function a(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(s,i,function(t){return e[t]}.bind(null,i));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);const s=new Phaser.Game(500,830,Phaser.AUTO,"pong");s.state.add("welcome",class{preload(){this.game.load.image("Court","./assets/background2.jpg"),this.load.spritesheet("singlePlayerButton","./assets/button_einzelspieler.png",166,40),this.load.spritesheet("multiPlayerButton","./assets/button_mehrspieler.png",162,40)}create(){this.add.image(0,0,"Court"),this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.maxWidth=this.game.width,this.scale.maxHeight=this.game.height,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.stage.backgroundColor="#FF620E",this.add.button(this.world.centerX-100,180,"singlePlayerButton",this.startSinglePlayer,this,2,1,0),this.add.button(this.world.centerX-100,300,"multiPlayerButton",this.startMultiPlayer,this,2,1,0),this.game.add.text(this.game.centerX,this.game.world.height-100,"Welcome to",{font:"32px Gabriella",fill:"#ffffff",algin:"center"})}update(){}startSinglePlayer(){localStorage.setItem("pongMultiplayer",0),this.state.start("game")}startMultiPlayer(){localStorage.setItem("pongMultiplayer",1),this.state.start("game")}}),s.state.add("game",class{preload(){this.game.load.image("paddle","./assets/paddle.png"),this.game.load.image("tennisball","./assets/tennisball.png"),this.game.load.image("Court","./assets/background2.jpg"),this.game.load.spritesheet("startButton","./assets/play-button.png")}createPlayer(e,t){const a=this.game.add.sprite(e,t,"paddle");return a.anchor.setTo(.5,.5),this.game.physics.arcade.enable(a),a.body.collideWorldBounds=!0,a.body.immovable=!0,a.scale.setTo(.4,.4),a}createBall(e,t){const a=this.game.add.sprite(e,t,"tennisball");return a.anchor.setTo(.5,.5),this.game.physics.arcade.enable(a),a.body.collideWorldBounds=!0,a.body.bounce.setTo(1,1),a.scale.setTo(.2,.2),a}launchBall(){this.ballLaunched?(this.ball.x=this.game.world.centerX,this.ball.y=this.game.world.centerY,this.ball.body.velocity.setTo(0,0),this.ball_launched=!1):(this.ball.body.velocity.x=-this.ballVelocity,this.ball.body.velocity.y=this.ballVelocity,this.ballLaunched=!0,this.playButton.pendingDestroy=!0)}create(){this.add.image(0,0,"Court"),this.multiplayer=parseInt(localStorage.getItem("pongMultiplayer")),this.ballLaunched=!1,this.ballVelocity=400,this.player1=this.createPlayer(this.game.world.centerX,0),this.player2=this.createPlayer(this.game.world.centerX,this.game.world.height),this.ball=this.createBall(this.game.world.centerX,this.game.world.centerY),this.playButton=this.add.button(this.world.centerX-40,this.world.centerY-40,"startButton",this.launchBall,this,2,1,0),this.player1Controls={left:this.game.input.keyboard.addKey(Phaser.Keyboard.A),right:this.game.input.keyboard.addKey(Phaser.Keyboard.D)},this.player2Controls={left:this.game.input.keyboard.addKey(Phaser.Keyboard.LEFT),right:this.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT)},this.player1ScoreText=this.game.add.text(90,270,"0",{font:"64px Gabriella",fill:"#ffffff",algin:"center"}),this.player2ScoreText=this.game.add.text(90,this.game.world.height-340,"0",{font:"64px Gabriella",fill:"#ffffff",algin:"center"}),this.scorePlayer1=0,this.scorePlayer2=0}isTouchInputActive(){return this.game.input.mousePointer.isDown?this.game.input.mousePointer:!!this.game.input.pointer1.isDown&&this.game.input.pointer1}movePlayerByTouch(){const e=!this.multiplayer||this.game.input.y<this.game.world.centerY?this.player1:this.player2;this.game.input.x<this.game.world.centerX?e.body.velocity.x=-400:e.body.velocity.x=400}movePlayerByKeyboard(e){const t=e===this.player1?this.player1Controls:this.player2Controls;t.left.isDown?e.body.velocity.x=-400:t.right.isDown?e.body.velocity.x=400:e.body.velocity.x=0}update(){this.ballLaunched&&(this.isTouchInputActive()?this.movePlayerByTouch():(this.movePlayerByKeyboard(this.player1),this.multiplayer&&this.movePlayerByKeyboard(this.player2))),this.game.physics.arcade.collide(this.player1,this.ball),this.game.physics.arcade.collide(this.player2,this.ball),this.ball.body.blocked.up?this.scorePlayer2+=1:this.ball.body.blocked.down&&(this.scorePlayer1+=1),this.checkGameOver(),this.multiplayer||(this.player2.body.velocity.setTo(this.ball.body.velocity.x),this.player2.body.velocity.y=0,this.player2.body.maxVelocity.x=250),this.player1ScoreText.text=this.scorePlayer1,this.player2ScoreText.text=this.scorePlayer2}checkGameOver(){1===this.scorePlayer1&&(localStorage.setItem("winner","Player 1"),this.game.state.start("gameover")),1===this.scorePlayer2&&(localStorage.setItem("winner","Player 2"),this.game.state.start("gameover"))}}),s.state.add("gameover",class{preload(){this.game.load.image("Court","./assets/background2.jpg"),this.load.spritesheet("returnToHome","./assets/button_hauptmenu.png",157,40),this.load.spritesheet("playAgain","./assets/button_neues-spiel.png",154,40)}create(){this.add.image(0,0,"Court"),this.add.button(this.world.centerX-75,500,"returnToHome",this.returnToHome,this,2,1,0),this.add.button(this.world.centerX-75,400,"playAgain",this.playsameAgain,this,2,1,0);const e=localStorage.getItem("winner");this.game.add.text(this.world.centerX-100,this.game.world.height-500,`${e} has won`,{font:"32px Gabriella",fill:"#ffffff",algin:"center"})}update(){}returnToHome(){this.state.start("welcome")}playsameAgain(){this.state.start("game")}}),s.state.start("welcome")}]);